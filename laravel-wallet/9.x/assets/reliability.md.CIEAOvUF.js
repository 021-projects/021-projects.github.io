import{_ as a,c as i,o as s,V as t}from"./chunks/framework.Cami899w.js";const u=JSON.parse('{"title":"Reliability","description":"","frontmatter":{},"headers":[],"relativePath":"reliability.md","filePath":"reliability.md"}'),e={name:"reliability.md"},n=t(`<h1 id="reliability" tabindex="-1">Reliability <a class="header-anchor" href="#reliability" aria-label="Permalink to &quot;Reliability&quot;">​</a></h1><h2 id="balance-calculation-methodology" tabindex="-1">Balance Calculation Methodology <a class="header-anchor" href="#balance-calculation-methodology" aria-label="Permalink to &quot;Balance Calculation Methodology&quot;">​</a></h2><p>The balance value is dynamically computed using data from the <code>transactions</code> table. This computation is triggered whenever a transaction is either added or updated within the system. This approach ensures that the balance reflects the most current state of transactions, thereby mitigating the risk associated with direct modifications to the balance record itself.</p><p>The formula for calculating the balance is as follows: <code>funds_received - funds_sent</code>, where:</p><p><code>funds_received</code> is calculated using the query:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SUM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">transactions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">received</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transactions</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> transactions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> IN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">accounting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">statuses</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><code>funds_sent</code> is derived from:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SUM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">transactions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">amount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transactions</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> transactions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> IN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">accounting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">statuses</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><br><p>For detailed information on the specific <code>accounting-statuses</code> referenced, please consult the <a href="./configuration.html#accounting-transaction-statuses">configuration</a> documentation.</p><h2 id="ensuring-balance-accuracy" tabindex="-1">Ensuring Balance Accuracy <a class="header-anchor" href="#ensuring-balance-accuracy" aria-label="Permalink to &quot;Ensuring Balance Accuracy&quot;">​</a></h2><p>To safeguard against data inconsistencies during concurrent transaction processing, the system employs database-level locking on the balance record. This lock remains until the balance has been recalculated, ensuring transactional integrity. Furthermore, the <a href="./interfaces.html#transaction-creator"><code>TransactionCreator</code></a> is designed to fetch the latest balance data immediately upon initiating a transaction. This guarantees that transaction processing is based on the most current balance information, thereby enhancing the reliability of the balance calculation process.</p><h2 id="rollback-mechanism-enhancement" tabindex="-1">Rollback Mechanism Enhancement <a class="header-anchor" href="#rollback-mechanism-enhancement" aria-label="Permalink to &quot;Rollback Mechanism Enhancement&quot;">​</a></h2><p>The system incorporates a sophisticated rollback mechanism designed to automatically revert any modifications made to the database, should an exception occur. This capability is indispensable, particularly during the execution of before and after callbacks as defined within the <a href="./interfaces.html#transaction-creator"><code>TransactionCreator</code></a>. By utilizing this mechanism, the system ensures the database&#39;s integrity remains intact, safeguarding against data corruption or inconsistency resulting from unforeseen errors. This proactive approach to error handling enhances system reliability and trustworthiness, ensuring smooth and secure operations.</p>`,14),l=[n];function h(r,c,o,p,d,k){return s(),i("div",null,l)}const E=a(e,[["render",h]]);export{u as __pageData,E as default};
